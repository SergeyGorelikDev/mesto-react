(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{13:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a(1),c=a.n(o),s=a(5),i=a.n(s),r=(a(4),a(2));var p=function(e){return Object(n.jsx)("div",{className:"popup popup_".concat(e.name," ").concat(e.isOpen?"popup_opened":""),children:Object(n.jsxs)("div",{className:"popup__container",children:[Object(n.jsx)("button",{className:"popup__close-button",type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:e.onClose}),Object(n.jsx)("h2",{className:"popup__header",children:e.title}),Object(n.jsxs)("form",{className:"popup__input-form",name:"{props.name}",noValidate:!0,children:[e.children,Object(n.jsx)("button",{className:"popup__submit-button",type:"submit","aria-label":e.buttonCaption,children:e.buttonCaption})]})]})})};var l=function(e){return Object(n.jsx)("div",{className:"popup popup_image_viewer ".concat(e.isOpen?"popup_opened":""),children:Object(n.jsxs)("div",{className:"popup__container popup__container_image",children:[Object(n.jsx)("img",{className:"popup__photo",src:e.card.link,alt:"\u0424\u043e\u0442\u043e"}),Object(n.jsx)("button",{className:"popup__close-button",type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:e.onClose}),Object(n.jsx)("h2",{className:"popup__header popup__header_location_bottom",children:e.card.name})]})})},u=a.p+"static/media/logo.3442166c.svg";var b=function(){return Object(n.jsx)("header",{className:"header",children:Object(n.jsx)("img",{className:"header__logo",src:u,alt:"\u041c\u0435\u0441\u0442\u043e"})})};var d=function(){return Object(n.jsx)("footer",{className:"footer",children:Object(n.jsx)("p",{className:"footer__copyright",children:"\xa92020 Mesto Russia"})})},j=a(6),m=a(7),h=new(function(){function e(){Object(j.a)(this,e)}return Object(m.a)(e,[{key:"getInitialCards",value:function(){return fetch("https://mesto.nomoreparties.co/v1/cohort-16/cards",{headers:{authorization:"5e28b23d-e13c-4018-b0b3-86a78e78d1a4","Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"getInformation",value:function(){return fetch("https://mesto.nomoreparties.co/v1/cohort-16/users/me",{headers:{authorization:"5e28b23d-e13c-4018-b0b3-86a78e78d1a4","Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"getAllNeededData",value:function(){return Promise.all([this.getInformation(),this.getInitialCards()])}},{key:"updateInformation",value:function(e){var t=e.name,a=e.about;return fetch("https://mesto.nomoreparties.co/v1/cohort-16/users/me",{method:"PATCH",headers:{authorization:"5e28b23d-e13c-4018-b0b3-86a78e78d1a4","Content-Type":"application/json"},body:JSON.stringify({name:t,about:a})})}},{key:"updateAvatar",value:function(e){var t=e.avatar;return fetch("https://mesto.nomoreparties.co/v1/cohort-16/users/me/avatar",{method:"PATCH",headers:{authorization:"5e28b23d-e13c-4018-b0b3-86a78e78d1a4","Content-Type":"application/json"},body:JSON.stringify({avatar:t})})}},{key:"postPhoto",value:function(e){var t=e.name,a=e.link;return fetch("https://mesto.nomoreparties.co/v1/cohort-16/cards",{method:"POST",headers:{authorization:"5e28b23d-e13c-4018-b0b3-86a78e78d1a4","Content-Type":"application/json"},body:JSON.stringify({name:t,link:a})})}},{key:"deletePhoto",value:function(e){return fetch("https://mesto.nomoreparties.co/v1/cohort-16/cards/".concat(e),{method:"DELETE",headers:{authorization:"5e28b23d-e13c-4018-b0b3-86a78e78d1a4","Content-Type":"application/json"}})}},{key:"likePhoto",value:function(e){return fetch("https://mesto.nomoreparties.co/v1/cohort-16/cards/likes/".concat(e),{method:"PUT",headers:{authorization:"5e28b23d-e13c-4018-b0b3-86a78e78d1a4","Content-Type":"application/json"}})}},{key:"unlikePhoto",value:function(e){return fetch("https://mesto.nomoreparties.co/v1/cohort-16/cards/likes/".concat(e),{method:"delete",headers:{authorization:"5e28b23d-e13c-4018-b0b3-86a78e78d1a4","Content-Type":"application/json"}})}}]),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-16/users/me",headers:{authorization:"5e28b23d-e13c-4018-b0b3-86a78e78d1a4","Content-Type":"application/json"}});var _=function(e){return Object(n.jsxs)("article",{className:"element",children:[Object(n.jsx)("button",{className:"element__delete",type:"button","aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onClick:e.isOpen}),Object(n.jsx)("img",{className:"element__photo",src:e.card.link,alt:"\u0424\u043e\u0442\u043e",onClick:function(){e.onCardClick(e.card)}}),Object(n.jsxs)("div",{className:"element__wrap",children:[Object(n.jsx)("h2",{className:"element__title",children:e.card.name}),Object(n.jsx)("button",{className:"element__like",type:"button","aria-label":"\u0421\u0435\u0440\u0434\u0435\u0447\u043a\u043e"}),Object(n.jsx)("p",{className:"element__amount",children:e.card.likes.length})]})]},e.card._id)};var O=function(e){var t=Object(o.useState)(""),a=Object(r.a)(t,2),c=a[0],s=a[1],i=Object(o.useState)(""),p=Object(r.a)(i,2),l=p[0],u=p[1],b=Object(o.useState)(""),d=Object(r.a)(b,2),j=d[0],m=d[1],O=Object(o.useState)([]),f=Object(r.a)(O,2),x=f[0],N=f[1];return Object(o.useEffect)((function(){h.getAllNeededData().then((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return s(a.name),u(a.about),m(a.avatar),n})).then((function(e){N(e)})).catch((function(e){console.log(e)}))}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("section",{className:"profile",children:[Object(n.jsxs)("div",{className:"profile__edit-profile",children:[Object(n.jsx)("img",{className:"profile__avatar",src:j,alt:"\u0410\u0432\u0430\u0442\u0430\u0440"}),Object(n.jsx)("button",{className:"profile__edit",type:"button","aria-label":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",onClick:e.onEditAvatar})]}),Object(n.jsxs)("div",{className:"profile__info",children:[Object(n.jsx)("h1",{className:"profile__title",children:c}),Object(n.jsx)("button",{className:"profile__edit-button",type:"button","aria-label":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",onClick:e.onEditProfile}),Object(n.jsx)("p",{className:"profile__subtitle",children:l})]}),Object(n.jsx)("button",{className:"profile__add-button",type:"button","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",onClick:e.onAddPlace})]}),Object(n.jsx)("section",{className:"elements",children:x.map((function(t){return Object(n.jsx)(_,{card:t,onCardClick:e.onCardClick,isOpen:e.onDeleteImage})}))})]})};var f=function(){var e=Object(o.useState)({}),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(o.useState)(!1),i=Object(r.a)(s,2),u=i[0],j=i[1],m=Object(o.useState)(!1),h=Object(r.a)(m,2),_=h[0],f=h[1],x=Object(o.useState)(!1),N=Object(r.a)(x,2),v=N[0],C=N[1],y=Object(o.useState)(!1),k=Object(r.a)(y,2),g=k[0],P=k[1],S=Object(o.useState)(!1),T=Object(r.a)(S,2),z=T[0],A=T[1];function E(){j(!1),f(!1),C(!1),P(!1),A(!1)}return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(b,{}),Object(n.jsxs)("main",{className:"content",children:[Object(n.jsx)(O,{onEditProfile:function(){f(!0)},onAddPlace:function(){C(!0)},onEditAvatar:function(){j(!0)},onDeleteImage:function(){P(!0)},onCardClick:function(e){c(e),A(!0)}}),Object(n.jsx)(p,{name:"edit-profile",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",buttonCaption:"C\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:_,onClose:E,children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("label",{className:"popup__field",children:[Object(n.jsx)("input",{type:"text",placeholder:"\u0418\u043c\u044f",className:"popup__input popup__input_type_name",name:"name",minLength:"2",maxLength:"40",id:"name-input",required:!0}),Object(n.jsx)("span",{className:"popup__input-error",id:"name-input-error"})]}),Object(n.jsxs)("label",{className:"popup__field",children:[Object(n.jsx)("input",{type:"text",placeholder:"\u041e \u0441\u0435\u0431\u0435",className:"popup__input popup__input_type_about",name:"about",minLength:"2",maxLength:"200",id:"about-input",required:!0}),Object(n.jsx)("span",{className:"popup__input-error",id:"about-input-error"})]})]})}),Object(n.jsx)(p,{name:"popup_confirm",title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b",buttonCaption:"\u0414\u0430",isOpen:g,onClose:E}),Object(n.jsx)(p,{name:"add-photo",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",buttonCaption:"C\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:v,onClose:E,children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("label",{className:"popup__field",children:[Object(n.jsx)("input",{type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",className:"popup__input popup__input_type_name",name:"name",minLength:"1",maxLength:"30",id:"caption-input",required:!0}),Object(n.jsx)("span",{className:"popup__input-error",id:"caption-input-error"})]}),Object(n.jsxs)("label",{className:"popup__field",children:[Object(n.jsx)("input",{type:"url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",className:"popup__input popup__input_type_link",name:"link",id:"link-input",required:!0}),Object(n.jsx)("span",{className:"popup__input-error",id:"link-input-error"})]})]})}),Object(n.jsx)(p,{name:"update-avatar",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",buttonCaption:"C\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:u,onClose:E,children:Object(n.jsxs)("label",{className:"popup__field",children:[Object(n.jsx)("input",{type:"url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",className:"popup__input popup__input_type_link",name:"avatar",id:"link-input",required:!0}),Object(n.jsx)("span",{className:"popup__input-error",id:"link-input-error"})]})}),Object(n.jsx)(l,{onClose:E,card:a,isOpen:z})]}),Object(n.jsx)(d,{})]})},x=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,14)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),o(e),c(e),s(e)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(f,{})}),document.getElementById("root")),x()},4:function(e,t,a){}},[[13,1,2]]]);
//# sourceMappingURL=main.f112ec93.chunk.js.map